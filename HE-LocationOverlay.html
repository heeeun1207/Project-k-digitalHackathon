<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>사용자 위치</title>
    <script
      type="text/javascript"
      src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=vvgbajtb3h"
    ></script>
    <style>
      #map {
        width: 100%;
        height: 700px;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script>
      var mapOptions = {
        center: new naver.maps.LatLng(36.3519947, 127.3778388),
        zoom: 20,
        indoor: true,
        minZoom: 8,
        zoomControl: true,
        zoomControlOptions: {
          position: naver.maps.Position.TOP_RIGHT,
        },
      };

      var map = new naver.maps.Map('map', mapOptions);

      var markerOptions = {
        position: new naver.maps.LatLng(36.3519947, 127.3778388),
        map: map,
      };

      var marker = new naver.maps.Marker(markerOptions);
      // 사용자 위치
      navigator.geolocation.getCurrentPosition(function (position) {
        var userLatLng = new naver.maps.LatLng(
          position.coords.latitude,
          position.coords.longitude
        );

        // 사용자 위치(디자인-원생성)
        var circle = new naver.maps.Circle({
          map: map,
          center: userLatLng,
          radius: 5, // 원의 반지름 크기 설정 (단위: 미터)
          fillColor: '#0072FF', // 원 채우기 색상
          fillOpacity: 0.3, // 원 채우기 투명도
          strokeColor: '#0072FF', // 원 테두리 색상
          strokeOpacity: 0.6, // 원 테두리 투명도
          strokeWeight: 2, //  테두리 두께
        });

        // 지도 중심 위치를 사용자의 위치로 이동
        map.setCenter(userLatLng);
      });
    </script>
  </body>
</html>